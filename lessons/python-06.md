# リストとタプル

## このレッスンのゴール

- リストを作成して、複数のデータを管理できる
- リストの要素にアクセスして、追加・削除・変更ができる
- リストのスライス機能を使える
- タプルとリストの違いを理解し、使い分けられる
- リスト内包表記の基本を理解できる

## なぜ重要なのか

リストは、複数のデータを効率的に管理するための最も基本的なデータ構造です。

実際のアプリケーションでは、ユーザーの一覧、商品リスト、履歴データなど、複数のデータを扱う場面が頻繁にあります。

Webアプリでも、データベースから取得した複数のレコードをリストとして扱うことが多いです。

リストをマスターすることで、実践的なプログラムを書けるようになります。

## 解説

### 1. リストの作成

リストは角括弧`[]`で囲んで作成します。

```python
fruits = ["りんご", "バナナ", "オレンジ"]
numbers = [1, 2, 3, 4, 5]
mixed = [1, "文字列", 3.14, True]  # 異なる型も混在可能
empty = []  # 空のリスト
```

### 2. リストの要素にアクセス

インデックス（添字）を使って要素にアクセスします（0から始まります）。

```python
fruits = ["りんご", "バナナ", "オレンジ"]

print(fruits[0])  # "りんご"
print(fruits[1])  # "バナナ"
print(fruits[-1])  # "オレンジ"（最後の要素）
```

### 3. リストの要素を変更

リストは変更可能（mutable）です。

```python
fruits = ["りんご", "バナナ", "オレンジ"]
fruits[0] = "メロン"
print(fruits)  # ["メロン", "バナナ", "オレンジ"]
```

### 4. リストのメソッド

よく使うリストのメソッド：

```python
fruits = ["りんご", "バナナ"]

# 要素を追加
fruits.append("オレンジ")  # 末尾に追加
fruits.insert(1, "メロン")  # 指定位置に挿入

# 要素を削除
fruits.remove("バナナ")  # 値を指定して削除
fruits.pop()  # 最後の要素を削除して返す
fruits.pop(0)  # インデックスを指定して削除

# その他
print(len(fruits))  # 要素数
print(fruits.count("りんご"))  # 特定の値の個数
fruits.sort()  # ソート（元のリストを変更）
fruits.reverse()  # 順序を逆にする
```

### 5. リストのスライス

リストの一部を取得できます。

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

print(numbers[2:5])  # [2, 3, 4]（2から4まで）
print(numbers[:3])  # [0, 1, 2]（最初から2まで）
print(numbers[3:])  # [3, 4, 5, 6, 7, 8, 9]（3から最後まで）
print(numbers[::2])  # [0, 2, 4, 6, 8]（2つおき）
print(numbers[::-1])  # [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]（逆順）
```

### 6. リストの結合と繰り返し

```python
list1 = [1, 2, 3]
list2 = [4, 5, 6]

combined = list1 + list2  # [1, 2, 3, 4, 5, 6]
repeated = list1 * 3  # [1, 2, 3, 1, 2, 3, 1, 2, 3]
```

### 7. リストの検索

```python
fruits = ["りんご", "バナナ", "オレンジ"]

if "りんご" in fruits:
    print("りんごがあります")

index = fruits.index("バナナ")  # インデックスを取得（見つからないとエラー）
```

### 8. タプルの基本

タプルは丸括弧`()`で作成し、変更不可能（immutable）です。

```python
coordinates = (10, 20)
colors = ("赤", "緑", "青")
single = (42,)  # 要素が1つの場合はカンマが必要
empty = ()  # 空のタプル
```

タプルは変更できません：

```python
coordinates = (10, 20)
# coordinates[0] = 30  # エラー！変更不可
```

### 9. タプルとリストの違い

- <strong class="term">リスト</strong>: 変更可能、角括弧`[]`
- <strong class="term">タプル</strong>: 変更不可能、丸括弧`()`（省略可能）

タプルは辞書のキーに使えますが、リストは使えません：

```python
# タプルは辞書のキーに使える
dict1 = {(1, 2): "座標"}

# リストは辞書のキーに使えない（エラー）
# dict2 = {[1, 2]: "リスト"}
```

### 10. リスト内包表記（基本）

簡潔にリストを作成する方法です。

```python
# 通常の書き方
squares = []
for i in range(10):
    squares.append(i ** 2)

# リスト内包表記
squares = [i ** 2 for i in range(10)]

# 条件付き
evens = [i for i in range(10) if i % 2 == 0]
```

## よくある間違い

- インデックスが範囲外になる（`list[10]`でリストの長さが10未満だとエラー）
- 負のインデックスの意味を間違える（`-1`は最後の要素）
- タプルを変更しようとする（タプルは変更不可）
- リストをコピーせずに代入すると参照がコピーされる（`list2 = list1`は参照コピー、`list2 = list1.copy()`が正しい）
- 空のリストを`None`と比較する（`[]`と`None`は別物）
- リストのメソッド（`append`など）の戻り値を変数に代入する（`None`を返す）

## 演習課題

問1. リストを作成して、要素を追加・削除してください：

```python
fruits = []
# りんご、バナナ、オレンジを追加
# バナナを削除
# 結果を表示
```

<details>
<summary>解答を表示</summary>

```python
fruits = []
fruits.append("りんご")
fruits.append("バナナ")
fruits.append("オレンジ")
fruits.remove("バナナ")
print(fruits)  # ['りんご', 'オレンジ']
```
</details>

問2. リストの要素を`for`文で繰り返し処理して、各要素を表示してください：

```python
numbers = [1, 2, 3, 4, 5]
# for文で各要素を表示
```

<details>
<summary>解答を表示</summary>

```python
numbers = [1, 2, 3, 4, 5]
for n in numbers:
    print(n)
```
</details>

問3. スライスを使って、リストの一部を取得してください：

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
# 最初の3つ
# 最後の3つ
# 偶数番目の要素だけ
```

<details>
<summary>解答を表示</summary>

```python
numbers = [0,1,2,3,4,5,6,7,8,9]
print(numbers[:3])     # [0,1,2]
print(numbers[-3:])    # [7,8,9]
print(numbers[::2])    # [0,2,4,6,8]
```
</details>

問4. タプルを使って、座標（x, y）を表現し、複数の座標をリストに格納してください：

```python
# タプルで座標を作成
point1 = (10, 20)
point2 = (30, 40)
# 座標のリストを作成
```

<details>
<summary>解答を表示</summary>

```python
point1 = (10, 20)
point2 = (30, 40)
points = [point1, point2, (50, 60)]
print(points)  # [(10, 20), (30, 40), (50, 60)]
```
</details>

問5. リスト内包表記を使って、1から10までの数字を2倍したリストを作成してください：

```python
# リスト内包表記で
```

<details>
<summary>解答を表示</summary>

```python
result = [n * 2 for n in range(1, 11)]
print(result)  # [2,4,6,8,10,12,14,16,18,20]
```
</details>

## まとめ

このレッスンでは、リストとタプルについて学びました。

- リストの作成、要素へのアクセス、変更
- リストのメソッド（`append`, `remove`, `sort`など）
- スライス機能
- タプルとリストの違い
- リスト内包表記の基本

次のレッスンでは、辞書と集合という他の重要なデータ構造について学びます。

