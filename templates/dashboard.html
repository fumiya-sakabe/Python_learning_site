{% extends "base.html" %}

{% block title %}å­¦ç¿’ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ - Pythonå­¦ç¿’ã‚µã‚¤ãƒˆ{% endblock %}

{% block content %}
<div class="page-header">
    <div class="container">
        <h1>å­¦ç¿’ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
        <p>{{ current_user.name }}ã•ã‚“ã®å­¦ç¿’é€²æ—ã‚’ç¢ºèªã§ãã¾ã™</p>
    </div>
</div>

<section class="dashboard-section">
    <div class="container">
        <!-- çµ±è¨ˆã‚µãƒãƒªãƒ¼ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">ğŸ“š</div>
                <div class="stat-value">{{ total_completed_lessons }}</div>
                <div class="stat-label">å®Œäº†ãƒ¬ãƒƒã‚¹ãƒ³æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ’»</div>
                <div class="stat-value">{{ total_completed_projects }}</div>
                <div class="stat-label">å®Œäº†ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">ğŸ”¥</div>
                <div class="stat-value">{{ streak }}</div>
                <div class="stat-label">é€£ç¶šå­¦ç¿’æ—¥æ•°</div>
            </div>
        </div>

        <!-- Phaseåˆ¥é€²æ— -->
        <div class="progress-cards">
            <div class="progress-card">
                <h3>Phase1ï¼šPythonåŸºç¤</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" style="width: {{ phase1_progress.percent }}%"></div>
                </div>
                <div class="progress-text">
                    {{ phase1_progress.completed }} / {{ phase1_progress.total }} å®Œäº† ({{ phase1_progress.percent }}%)
                </div>
            </div>

            <div class="progress-card">
                <h3>Phase2ï¼šãƒŸãƒ‹ã‚¢ãƒ—ãƒª</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" style="width: {{ projects_progress.percent }}%"></div>
                </div>
                <div class="progress-text">
                    {{ projects_progress.completed }} / {{ projects_progress.total }} å®Œäº† ({{ projects_progress.percent }}%)
                </div>
            </div>

            <div class="progress-card">
                <h3>Phase3ï¼šWebã‚¢ãƒ—ãƒªé–‹ç™º</h3>
                <div class="progress-bar-container">
                    <div class="progress-bar-fill" style="width: {{ phase3_progress.percent }}%"></div>
                </div>
                <div class="progress-text">
                    {{ phase3_progress.completed }} / {{ phase3_progress.total }} å®Œäº† ({{ phase3_progress.percent }}%)
                </div>
            </div>
        </div>

        <!-- æœ€è¿‘å®Œäº†ã—ãŸãƒ¬ãƒƒã‚¹ãƒ³ -->
        {% if recent_completed %}
        <div class="recent-completed">
            <h3>æœ€è¿‘å®Œäº†ã—ãŸãƒ¬ãƒƒã‚¹ãƒ³</h3>
            <div class="recent-lessons-grid">
                {% for lesson in recent_completed %}
                <div class="recent-lesson-card">
                    <h4>{{ lesson.title }}</h4>
                    <a href="{{ url_for('lesson_detail', lesson_id=lesson.id) }}" class="btn btn-sm btn-secondary">è©³ç´°ã‚’è¦‹ã‚‹</a>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}

        <!-- ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹ -->
        <div class="quick-links">
            <h3>ã‚¯ã‚¤ãƒƒã‚¯ã‚¢ã‚¯ã‚»ã‚¹</h3>
            <div class="quick-links-grid">
                <a href="{{ url_for('lessons_list') }}" class="quick-link-card">
                    <div class="quick-link-icon">ğŸ“–</div>
                    <div class="quick-link-text">ãƒ¬ãƒƒã‚¹ãƒ³ä¸€è¦§</div>
                </a>
                <a href="{{ url_for('projects_list') }}" class="quick-link-card">
                    <div class="quick-link-icon">ğŸ’»</div>
                    <div class="quick-link-text">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§</div>
                </a>
                <a href="{{ url_for('favorites_page') }}" class="quick-link-card">
                    <div class="quick-link-icon">â­</div>
                    <div class="quick-link-text">ãŠæ°—ã«å…¥ã‚Š</div>
                </a>
                <a href="{{ url_for('roadmap') }}" class="quick-link-card">
                    <div class="quick-link-icon">ğŸ—ºï¸</div>
                    <div class="quick-link-text">ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</div>
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}
